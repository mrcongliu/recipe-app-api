name: Tests CI

env:
  # Setting an environment variable with the value of a configuration variable
  env_var: ${{ vars.ENV_CONTEXT_VAR }}

on: 
  pull_request:
    branches:
      - master
      - release/*
      - feature/*
jobs:
  build:

    name: Jest
    runs-on: ubuntu-20.04 # using higher versions of ubuntu will cause an issue with MongoDB

    strategy:
      matrix:
        node-version: [16.x]

    steps:

      # Log Environment Variables
      - name: Log Environment Variables
        run: |
          echo "COVERAGE_STATEMENTS1=${{ vars.COVERAGE_STATEMENTS }}"
          echo "COVERAGE_BRANCHES1=${{ vars.COVERAGE_BRANCHES }}"
          echo "COVERAGE_FUNCTIONS1=${{ vars.COVERAGE_FUNCTIONS }}"
          echo "COVERAGE_LINES1=${{ vars.COVERAGE_LINES }}"

      - name: Log Environment Variables 2
        run: |
          echo "COVERAGE_STATEMENTS2=${{ env.COVERAGE_STATEMENTS }}"
          echo "COVERAGE_BRANCHES2=${{ env.COVERAGE_BRANCHES }}"
          echo "COVERAGE_FUNCTIONS2=${{ env.COVERAGE_FUNCTIONS }}"
          echo "COVERAGE_LINES2=${{ env.COVERAGE_LINES }}"
